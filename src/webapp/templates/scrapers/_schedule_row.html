{% set name = scraper.scraper_name %}
{% set display_name = scraper.display_name or name %}
{% set last_run_str = scraper.last_run|string %}
{% set next_run_str = scraper.next_run|string %}

<tr id="schedule-{{ name }}"
    data-schedule-card
    class="hover:bg-white/5 transition-colors {% if scraper.enabled %}bg-brand/5{% endif %}">

    <td class="px-3 py-1.5 align-top">
        <div class="flex items-baseline gap-2 min-w-0 max-w-[520px]">
            <div class="font-semibold text-white/90 leading-5 truncate">{{ display_name }}</div>
            <div class="text-[11px] text-slate-400 leading-4 font-mono truncate">({{ name }})</div>
        </div>
    </td>

    <td class="px-3 py-1.5 align-top">
        <label class="inline-flex items-center gap-2 cursor-pointer select-none">
            <input type="checkbox"
                name="enabled_{{ name }}"
                {% if scraper.enabled %}checked{% endif %}
                class="sr-only peer">
            <div class="relative w-9 h-5 rounded-full bg-white/10 border border-white/10 peer-checked:bg-brand/70 peer-checked:border-brand/60 transition-colors">
                <div class="absolute top-0.5 left-0.5 h-4 w-4 rounded-full bg-white shadow transition-transform peer-checked:translate-x-4"></div>
            </div>
            <span class="text-xs font-semibold text-slate-300 peer-checked:text-white">Enabled</span>
        </label>
    </td>

    <td class="px-3 py-1.5 align-top whitespace-nowrap">
        <div class="flex items-center gap-2">
            <input id="interval_{{ name }}" type="number"
                name="interval_{{ name }}"
                value="{{ scraper.interval_minutes or 60 }}"
                min="1"
                max="10080"
                class="w-24 px-2 py-1 text-sm app-input rounded-md focus:outline-none focus:ring-2 focus:ring-brand/60">
            <span class="text-xs text-slate-400">min</span>
        </div>
    </td>

    <td class="px-3 py-1.5 align-top whitespace-nowrap">
        {% if scraper.last_run %}
        <span class="font-mono text-xs text-slate-200">{{ last_run_str[:16].replace('T', ' ') }}</span>
        {% else %}
        <span class="text-slate-400 text-xs">Never</span>
        {% endif %}
    </td>

    <td class="px-3 py-1.5 align-top whitespace-nowrap">
        {% if scraper.next_run %}
        <span class="font-mono text-xs text-slate-200">{{ next_run_str[:16].replace('T', ' ') }}</span>
        {% elif scraper.enabled %}
        <span class="text-amber-200 text-xs font-semibold">Pending</span>
        {% else %}
        <span class="text-slate-400 text-xs">-</span>
        {% endif %}
    </td>
</tr>
